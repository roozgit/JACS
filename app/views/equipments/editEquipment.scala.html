@(id : Long, equipmentForm: Form[equipment.Equipments])

@import helper._
@implicitFieldConstructor = @{ FieldConstructor(myBootstrapFieldConstructor.f) }

@main("Edit equipment") {@Html("")} {
	<style>
	body {
		background-color: #EDEDED;
	}
	</style>
	@form(action = routes.EquipmentApplication.update(id),
	'class->"form-horizontal",
	'role->"form"
	) {
		<fieldset>
			<legend><span class="label label-default">@LanguageApplication.message("taxonomy")</span></legend>
			<div class="form-group">
				<div class="col-lg-3">
					@select(equipmentForm("section.id"),
					options(Sections.options(1L,equipmentForm("section.id").value.toLong)),
					'class->"form-control",
					'_label->LanguageApplication.message("section")
					)
				</div>
				
				<div class="col-lg-6">
					@select(equipmentForm("equipmentClass.id"),
						options( equipment.EquipmentClass.options() ),
						'class->"form-control",
						'_label->LanguageApplication.message("class")
						)
				</div>
			</div>
		</fieldset>
	
		<fieldset>
			<legend><span class="label label-default">@LanguageApplication.message("basicInfo")</span></legend>
			<div class="form-group">
				<div class="col-lg-4">
					@inputText(equipmentForm("name"),
						'class->"form-control",
						'_label->LanguageApplication.message("equipmentTag"),
						'_showConstraints->true
						)
				</div>
				
				<div class="col-lg-8">
					@inputText(equipmentForm("description"),
						'class->"form-control",
						'_showConstraints->true,
						'_label->LanguageApplication.message("description")
						)
				</div>
			</div>
			
			<div class="form-group">
				<div class="col-lg-3">
					@inputText(equipmentForm("assetNo"),
						'class->"form-control",
						'_label->LanguageApplication.message("assetNo")
						)
				</div>
			</div>
			<div class="form-group">
				<div class="col-lg-3">
					@inputText(equipmentForm("equipmentAutoGeneratedCode"),
						'class->"form-control",
						'_label->LanguageApplication.message("autoGenCode"),
						'disabled->"disabled"
						)
				</div>
			</div>
			<div class="form-group">
				<div class="col-lg-3">
					@inputText(equipmentForm("oredaCode"),
						'class->"form-control",
						'_label->LanguageApplication.message("oredaCode"),
						'disabled->"disabled"
						)
				</div>
			</div>
			<div class="form-group">
				<div class="col-lg-3">
					@inputText(equipmentForm("costCenter"),
						'class->"form-control",
						'_label->LanguageApplication.message("costCenter"),
						'disabled->"disabled"
						)
				</div>
			</div>
		</fieldset>
		
		<fieldset>
			<legend><span class="label label-default">@LanguageApplication.message("driveInfo")</span></legend>
			<p>@LanguageApplication.message("helpDriveInfo")</p>
			<div class="form-group">
				<div class="col-lg-2">
					@select(equipmentForm("maintainedSection.id"),
						options(Sections.options(1L)),
						'class->"form-control",
						'_showConstraints->false,
						'_label->LanguageApplication.message("sectionFilter")
						)
				</div>
					
				<div class="col-lg-3">
					@select(equipmentForm("drivenEquipment.id"),
						options( equipment.Equipments.options() ),
						'class->"form-control",
						'_label->LanguageApplication.message("drivenEquipment"),
						'_default->""
						)
				</div>
			</div>
			
			<div class="form-group">
				<div class="col-lg-2">
					@select(equipmentForm("maintainedSection2.id"),
						options(Sections.options(1L)),
						'class->"form-control",
						'_label->LanguageApplication.message("sectionFilter")
						)
				</div>
					
				<div class="col-lg-3">
					@select(equipmentForm("driverEquipment.id"),
						options( equipment.Equipments.options() ),
						'class->"form-control",
						'_label->LanguageApplication.message("driverEquipment"),
						'_default->""
						)
				</div>
			</div>
		</fieldset>
	
		<fieldset>
			<legend><span class="label label-default">@LanguageApplication.message("vendorInfo")</span></legend>
			<div class="form-group">
				<div class="col-lg-3">
					@select(equipmentForm("manufacturerCompany.id"),
						options(Companies.options()),
						'class->"form-control",
						'_label->LanguageApplication.message("vendor"),
						'_default->""
						)
				</div>
			</div>
			
			<div class="form-group">
				<div class="col-lg-3">
					@inputText(equipmentForm("manufacturerModelDesignation"),
						'class->"form-control",
						'_label->LanguageApplication.message("modelDesignation")
						)
				</div>
			</div>
			
			<div class="form-group">
				<div class="col-lg-3">
					@inputText(equipmentForm("equipmentSerialNo"),
						'class->"form-control",
						'_label->LanguageApplication.message("serial")
						)
				</div>
			</div>
			
			<div class="form-group">
				<div class="col-lg-3">
					@inputText(equipmentForm("manufactureDate"),
						'class->"form-control",
						'_label->LanguageApplication.message("manufactureDate"),
						'_showConstraints->false
						)
				</div>
				<script type="text/javascript">
					Calendar.setup({
					inputField     :    "manufactureDate",   // id of the input field
					button         :    "manufactureDate",   // trigger for the calendar (button ID)
		       		ifFormat       :    "%Y/%m",       // format of the input field
        			dateType	   :	'jalali',
					weekNumbers    : false
					});
					</script>
				<div class="col-lg-3">
					@inputText(equipmentForm("purchaseDate"),
						'class->"form-control",
						'_label->LanguageApplication.message("purchaseDate"),
						'_showConstraints->false
						)
				</div>
				<script type="text/javascript">
						Calendar.setup({
						inputField     :    "purchaseDate",   // id of the input field
						button         :    "purchaseDate",   // trigger for the calendar (button ID)
			       		ifFormat       :    "%Y/%m/%d",
	        			dateType	   :	'jalali',
						weekNumbers    : false
						});
				</script>	
			</div>
		</fieldset>
	
		<fieldset>
			<legend><span class="label label-default">@LanguageApplication.message("guaranteeInfo")</span></legend>
			<div class="form-group">
				<div class="col-lg-9">
					@inputText(equipmentForm("guarantee"),
						'class->"form-control",
						'_label->LanguageApplication.message("guaranteeDescription")
						)
				</div>
				
				<div class="col-lg-3">
					@inputText(equipmentForm("guaranteeEndDate"),
						'class->"form-control",
						'_showConstraints->false,
						'_label->LanguageApplication.message("guaranteeEndDate")
						)
				</div>
				<script type="text/javascript">
					Calendar.setup({
					inputField     :    "guaranteeEndDate",   // id of the input field
					button         :    "guaranteeEndDate",   // trigger for the calendar (button ID)
		       		ifFormat       :    "%Y/%m/%d",
        			dateType	   :	'jalali',
					weekNumbers    : false
					});
					</script>
			</div>
		</fieldset>
		
		<fieldset>		
			<legend><span class="label label-default">@LanguageApplication.message("serviceInfo")</span></legend>
			<div class="form-group">
				<div class="col-lg-3">
					@inputText(equipmentForm("initialCommissioningDate"),
						'class->"form-control",
						'_showConstraints->false,
						'_label->LanguageApplication.message("initialCommissioningDate")
						)
				</div>
			
				<script type="text/javascript">
					Calendar.setup({
					inputField     :    "initialCommissioningDate",   // id of the input field
					button         :    "initialCommissioningDate",   // trigger for the calendar (button ID)
		       		ifFormat       :    "%Y/%m/%d",
        			dateType	   :	'jalali',
					weekNumbers    : false
					});
				</script>
			</div>
			<div class="form-group">
				<div class="col-lg-3">
					@inputText(equipmentForm("currentServiceStartDate"),
						'class->"form-control",
						'_showConstraints->false,
						'_label->LanguageApplication.message("currentServiceStartDate")
						)
				</div>
				<script type="text/javascript">
					Calendar.setup({
					inputField     :    "currentServiceStartDate",   // id of the input field
					button         :    "currentServiceStartDate",   // trigger for the calendar (button ID)
		       		ifFormat       :    "%Y/%m/%d",
        			dateType	   :	'jalali',
					weekNumbers    : false
					});
				</script>
				<div class="col-lg-3">
					@inputText(equipmentForm("currentServiceEndDate"),
						'class->"form-control",
						'_showConstraints->false,
						'_label->LanguageApplication.message("currentServiceEndDate")
						)
				</div>
				<script type="text/javascript">
					Calendar.setup({
					inputField     :    "currentServiceEndDate",   // id of the input field
					button         :    "currentServiceEndDate",   // trigger for the calendar (button ID)
		       		ifFormat       :    "%Y/%m/%d",
        			dateType	   :	'jalali',
					weekNumbers    : false
					});
				</script>
			</div>
			<div class="form-group">
				<div class="col-lg-2">
					@inputText(equipmentForm("initialUpTime"),
					'class->"form-control",
					'_label->LanguageApplication.message("initialUpTime"),
					'_showConstraints->true
					)
				</div>
			</div>
			<div class="form-group">
				<div class="col-lg-2">
					@inputText(equipmentForm("initialDownTime"),
						'class->"form-control",
						'_label->LanguageApplication.message("initialDownTime"),
						'_showConstraints->true
						)
				</div>
			</div>
			
			<div class="form-group">
				<div class="col-lg-2">
				@select(equipmentForm("operationMode"),
					options(equipment.OperationModes.values().toList.map(_.toString)),
					'class->"form-control",
					'_label->LanguageApplication.message("operationMode"),
					'_default->""
					)
				</div>
			</div>
			
			<div class="form-group">
				<div class="col-lg-2">
				@select(equipmentForm("criticality"),
					options(equipment.Criticality.values().toList.map(_.toString)),
					'class->"form-control",
					'_label->LanguageApplication.message("criticality"),
					'_default->""
					)
					</div>
			</div>
			
			<div class="form-group">
				<div class="col-lg-2">
				@inputText(equipmentForm("redundancyRatio"),
					'class->"form-control",
					'_label->LanguageApplication.message("redundancyRatio"),
					'_showConstraints->true
					)
					</div>
			</div>
			
		</fieldset>
		
		<fieldset>
			<legend><span class="label label-default">@LanguageApplication.message("maintAspects")</span></legend>
			<div class="form-group">
				<div class="col-lg-6">
					@multiSelect(field = equipmentForm("specialTools"),
					options = options(RepairTools.options()),
					'class->"form-control",
					'_label->LanguageApplication.message("repairTools"),
					'_default->""
					)
				</div>
			</div>
			
			<div class="form-group">
				<div class="col-lg-6">
					@textarea(equipmentForm("maintenaceMethod"),
					'class->"form-control",
					'rows->"5",
					'_label->LanguageApplication.message("maintMethod")
					)
				</div>
			</div>
			
			<div class="form-group">
				<div class="col-lg-6">
				@textarea(equipmentForm("maintenaceSafetyRequirements"),
					'class->"form-control",
					'rows->"5",
					'_label->LanguageApplication.message("maintSafety")
					)
				</div>
			</div>
		</fieldset>
		
		<fieldset>
			<legend><span class="label label-default">@LanguageApplication.message("operationAspects")</span></legend>
			<div class="form-group">
				<div class="col-lg-6">
					@textarea(equipmentForm("operationMethod"),
					'class->"form-control",
					'rows->"5",
					'_label->LanguageApplication.message("operationMethod")
					)
				</div>
			</div>
			
			<div class="form-group">
				<div class="col-lg-6">
					@textarea(equipmentForm("operationSafetyRequirements"),
					'class->"form-control",
					'rows->"5",
					'_label->LanguageApplication.message("operationSafety")
					)
				</div>
			</div>
			
			<div class="form-group">
				<div class="col-lg-6">
					@textarea(equipmentForm("hseRisks"),
					'class->"form-control",
					'rows->"5",
					'_label->LanguageApplication.message("hseRisks")
					)
				</div>
			</div>
		</fieldset>		
		
		<div class="form-group">
			<div class="col-lg-6">
				@multiSelect(field = equipmentForm("files"),
				options=options(Blobs.options()),
				'class->"form-control",
				'size->12,
				'_label->LanguageApplication.message("files"),
				'_default->""
				)
			</div>
		</div>					
				
		<div class="form-group">
			<div class="col-lg-6">
				@textarea(equipmentForm("comments"),
				'class->"form-control",
				'rows->"5",
				'_label->LanguageApplication.message("comments")
				)
			</div>
		</div>
		
		<div align="center">
			<input type="submit" value="@LanguageApplication.message("update")" class="btn btn-success btn-lg">
			<a style="margin-left : 2em;"
			href="@routes.EquipmentApplication.equipmentIndex(id)" 
				class="btn btn-danger btn-lg" role="button">
			@LanguageApplication.message("cancel")</a>
		</div>
	}
	<script type="text/javascript" src="@routes.Assets.at("javascripts/fcf.js")"></script>
	
}